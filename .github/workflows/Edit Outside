name: Edit Outside

on:
  schedule:
    - cron: '0 0 * * *'

jobs:
  fetch-and-edit-file:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Fetch file from remote URL
      run: |
        curl -O https://fastly.jsdelivr.net/gh/GeQ1an/Rules@master/QuantumultX/Filter/Outside.list
    - name: Delete lines containing "duolingo"
      run: |
        sed -i '/duolingo/d' Outside.list
    - name: Save file with new name
      run: |
        mv Outside.list outside_edt.list
    - name: Commit and push changes
      run: |
        git add outside_edt.list
        git commit -m "Deleted lines containing duolingo and saved file with new name"
        git push
